/* src/assets/sakai-overrides.css
   Sakai-like global overrides — only CSS. No JS changes.
   This file intentionally focuses on visuals: colors, spacing, shadows.
*/

/* Theme tokens (tweakable) */
:root {
  --sakai-bg: #f6f7fb;
  --sakai-surface: #ffffff;
  --sakai-muted: #6b7280;
  --sakai-primary: #6d28d9; /* indigo / purple */
  --sakai-primary-600: #5b21b6;
  --sakai-accent: #7c3aed;
  --sakai-chip-bg: #eef2ff;
  --sakai-chip-text: #1e3a8a;
  --sakai-card-border: rgba(15,23,42,0.04);
  --sakai-elev: 0 8px 24px rgba(2,6,23,0.06);
}

/* Page background & base text */
html, body, #app {
  height: 100%;
}
body {
  margin: 0;
  background: var(--sakai-bg);
  color: #0f172a;
  font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  line-height:1.45;
}

/* Containers */
.admin-shell {
  max-width: 1200px;
  margin: 28px auto;
  padding: 18px;
  box-sizing: border-box;
}

/* Header */
.admin-header {
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:16px;
  margin-bottom:18px;
  padding:18px;
  border-radius:12px;
  background: linear-gradient(90deg, rgba(109,40,217,0.06), rgba(124,58,237,0.03));
  box-shadow: var(--sakai-elev);
  border: 1px solid rgba(99,102,241,0.06);
}
.header-left h1 { margin:0; font-size:20px; color:#0f172a; font-weight:700; }
.subtitle { margin:4px 0 0; color:var(--sakai-muted); font-size:13px; }

/* Cards */
.card {
  background: linear-gradient(180deg,var(--sakai-surface), #fbfdff);
  border-radius:12px;
  box-shadow: var(--sakai-elev);
  padding: 14px;
  border: 1px solid var(--sakai-card-border);
}

/* Buttons - preserve PrimeVue classes but adjust visuals */
.p-button {
  border-radius: 10px;
  font-weight: 600;
  padding: 0.6rem 0.9rem;
  text-transform: none;
}
.p-button.p-button-primary {
  background: linear-gradient(180deg,var(--sakai-primary), var(--sakai-primary-600));
  border: none;
  color: #fff;
  box-shadow: 0 6px 18px rgba(99,102,241,0.12);
}
.p-button.p-button-outlined {
  border: 1px solid rgba(15,23,42,0.06);
  background: transparent;
  color: #0f172a;
}

/* Chips */
.chip {
  display:inline-block;
  background: var(--sakai-chip-bg) !important;
  color: var(--sakai-chip-text) !important;
  padding:6px 10px;
  border-radius:999px;
  font-weight:600;
}

/* Avatar */
.avatar, .avatar-large {
  display:flex; align-items:center; justify-content:center;
  color:#fff; font-weight:700;
  background: linear-gradient(135deg,var(--sakai-primary),var(--sakai-accent));
  border-radius: 10px;
}

/* DataTable */
.p-datatable {
  border-radius: 10px;
  overflow: hidden;
  border: 1px solid rgba(15,23,42,0.03);
}
.p-table-header { background: transparent; }
.p-datatable-thead > tr > th {
  background: transparent;
  color: #0f172a;
  font-weight:700;
}
.p-datatable-tbody > tr:hover {
  background: rgba(99,102,241,0.03);
}

/* Dialog */
.p-dialog .p-dialog-header {
  background: transparent;
  border-bottom: none;
  font-weight:700;
  color:#0f172a;
}
.p-dialog .p-dialog-content {
  padding: 1rem 1.25rem;
}

/* Forms */
.p-inputtext, .p-inputtextarea {
  border-radius:8px;
  border:1px solid rgba(15,23,42,0.06);
  padding: 10px;
  background: #fff;
  color: #0f172a;
  box-shadow: none;
}

/* Role list / role-card */
.role-card {
  display:flex; justify-content:space-between; align-items:center;
  padding:10px; border-radius:10px;
  cursor:pointer; transition:all .12s ease;
  border:1px solid rgba(15,23,42,0.03);
  background: linear-gradient(180deg,#ffffff,#fbfdff);
}
.role-card.selected {
  border-color: rgba(99,102,241,0.2);
  background: linear-gradient(90deg, rgba(99,102,241,0.06), rgba(139,92,246,0.03));
  box-shadow: 0 6px 16px rgba(99,102,241,0.06);
}

/* Create dialog right panel */
.create-dialog { display:flex; gap:18px; align-items:flex-start; padding:12px; border-radius:12px; background: transparent; }
.create-left .label { color:#111; font-weight:700; margin-bottom:6px; display:block; }

/* Assign dialog */
.user-card { padding:12px; border-radius:12px; background: linear-gradient(180deg,#fff,#fbfdff); border:1px solid rgba(15,23,42,0.03); display:flex; flex-direction:column; align-items:center; gap:8px; }

/* small responsive tweaks */
@media (max-width: 980px) {
  .admin-grid { flex-direction: column; }
  .header-actions .search-wrap input { width:120px; }
}

/* Ensure our overrides are applied after theme: increase specificity where needed */
.p-button.p-button-primary { background-image: none; }

/* Minor utility: subtle borders */
.border-subtle {
  border: 1px solid rgba(15,23,42,0.03);
  border-radius: 8px;
}

/* Accessibility: focus outlines */
:focus { outline: 3px solid rgba(124,58,237,0.12); outline-offset: 2px; }

/* End of overrides */
/* === PrimeVue Toast (Sekai-styled) overrides ===
   Paste this at the end of src/assets/sakai-overrides.css
*/

/* Outer toast message: strong gradient background (warn/error/general) */
.p-toast .p-toast-message {
  background-image: linear-gradient(135deg, #06b6d4, #7c3aed) !important;
  color: #ffffff !important;
  border-radius: 12px !important;
  padding: 12px 14px !important;
  box-shadow: 0 16px 40px rgba(2,6,23,0.18) !important;
  border: none !important;
  min-width: 320px;
  max-width: 640px;
  overflow: visible !important;
  background-clip: padding-box !important;
}

/* Ensure specific types (warn/error) follow same gradient if theme sets something else */
.p-toast .p-toast-message.p-toast-message-warn,
.p-toast .p-toast-message.p-toast-message-error,
.p-toast .p-toast-message.p-toast-message-info {
  background-image: linear-gradient(135deg, #06b6d4, #7c3aed) !important;
  color: #fff !important;
}

/* Icon + summary text on gradient */
.p-toast .p-toast-message .p-toast-icon {
  color: rgba(255,255,255,0.98) !important;
  font-size: 1.05rem;
  margin-right:8px;
}
.p-toast .p-toast-message .p-toast-summary {
  color: #ffffff !important;
  font-weight: 700;
  font-size: 14px;
}

/* Detail block — make it white for readability (for JSON / long backend errors) */
.p-toast .p-toast-message .p-toast-detail {
  display: block;
  margin-top: 8px;
  background: #ffffff !important;
  color: #0f172a !important;
  padding: 10px 12px !important;
  border-radius: 8px !important;
  box-shadow: 0 8px 20px rgba(2,6,23,0.06) !important;
  font-size: 13px;
  white-space: pre-wrap;       /* wrap long JSON / messages */
  word-break: break-word;
  line-height: 1.35;
  border: 1px solid rgba(2,6,23,0.03);
}

/* Make sure inner content (if PrimeVue wraps content) is transparent so our gradient shows */
.p-toast .p-toast-message .p-toast-message-content,
.p-toast .p-toast-message .p-toast-message {
  background: transparent !important;
  box-shadow: none !important;
}

/* Close button / icon contrast */
.p-toast .p-toast-message .p-toast-icon-close {
  color: rgba(255,255,255,0.95) !important;
}

/* Small screens: toast full width with comfortable margin */
@media (max-width: 520px) {
  .p-toast .p-toast-message {
    width: calc(100vw - 36px) !important;
    min-width: auto;
    max-width: none;
  }
  .p-toast .p-toast-message .p-toast-detail {
    font-size: 12px;
    padding: 8px;
  }
}

/* If your theme still overrides, increase specificity by scoping under body#app */
body #app .p-toast .p-toast-message {
  background-image: linear-gradient(135deg, #06b6d4, #7c3aed) !important;
}
